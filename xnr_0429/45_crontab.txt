# /etc/crontab: system-wide crontab
# Unlike any other crontab you don't have to run the `crontab'
# command to install the new version when you edit this file
# and files in /etc/cron.d. These files also have username fields,
# that none of the other crontabs do.

SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin

# m h dom mon dow user	command
17 *	* * *	root    cd / && run-parts --report /etc/cron.hourly
25 6	* * *	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.daily )
47 6	* * 7	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.weekly )
52 6	1 * *	root	test -x /usr/sbin/anacron || ( cd / && run-parts --report /etc/cron.monthly )
# 一期

# 虚拟人定制模块--领域计算--46
#*/20 * * * * root cd /home/xnr1/xnr_0429/xnr/cron/knowledge_base_management && python domain_role_base.py

# fb 虚拟人定制模块--领域计算
*/20 * * * * root cd /home/xnr1/xnr_0429/xnr/cron/knowledge_base_management && python fb_domain_role_base.py

# tw 虚拟人定制模块--领域计算
*/20 * * * * root cd /home/xnr1/xnr_0429/xnr/cron/knowledge_base_management && python tw_domain_role_base.py


# 操作控制 -- 发帖 -- 46
#01 00 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/daily_interest_classify && python daily_interest_classify_timer.py 
#* */3 * * * root cd /home/xnr1/xnr_0429/xnr/cron/xnr_operate/social_sensing && python task_list.py
#*/10 * * * * root cd /home/xnr1/xnr_0429/xnr/cron/xnr_operate && python compute_hot_task_list.py
#*/2 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python retweet_in_time.py
#*/2 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python operate_timer.py
#*/10 * * * * root cd /home/xnr1/xnr_0429/xnr/cron/intelligent_writing && python cron_intelligent_compute_task_list.py

# 2018-11-27 12:47:17 暂时停止 hanmc
#* */3 * * * root cd /home/xnr1/xnr_0429/xnr/cron/xnr_operate/social_sensing && python task_v_list.py

# 操作控制 -- 社交反馈 -- 数据爬取
#* */3 * * * root cd /home/xnr1/xnr_0429/xnr/sina && python weibo_crawler.py
00 22 * * * root cd /home/xnr1/xnr_0429/xnr && python weibo_feedback_mappings.py

# 操作控制 -- 信息统计表
30 00 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python assessment_mark_timer.py >> a.text
* */3 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python xnr_flow_text_match_timer.py

# 信息监测 -- 关键词生成
15 */6 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python caculate_keywords.py 
05 */2 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python weibo_sensitive_post.py
10 */2 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python weibo_sensitive_pop.py

#fb和tw
15 3 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python facebook_caculate_keywords.py

15 3 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python twitter_caculate_keywords.py

# fb feedback
#* */4 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python facebook_feedback_spider.py

# 预警监控
30 00 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/warning && python weibo_warning_mappings.py
45 */4 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/warning && python weibo_warning_addredis.py
50 */4 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/warning && python weibo_warning_readredis.py

#fb
00 01 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/warning && python facebook_warning_redis.py

#tw
00 02 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/warning && python twitter_warning_redis.py

# 社区预警

45 04 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/community && python weibo_community_create_redis.py

# 观点语料 -- 每周六10点

00 10 * * 6 root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python opnion_corpus_expand.py

# 系统管理 -- 日志
01 00 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python system_log_create.py
00 03 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python clean_data.py
00 04 * * * root cd /tmp && ls | xargs -n 10 rm -rf

#QQ-表管理
* 22 * * * root cd /home/xnr1/xnr_0429/xnr && python qq_xnr_groupmessage_mappings.py
#QQ-历史统计
00 02 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python qq_history_count_timer.py
#QQ-后台主进程执行接收群消息存表
#*/1 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && sh qq_receive_message_timer.sh

#WX-历史统计
00 03 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python wx_history_count_timer.py

#fb历史统计
00 02 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_assessment_mark_timer.py

#WX-定时清理图片/语音文件
00 05 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python wx_regular_cleaning.py

#FB TW定时翻译任务
#*/14 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_tw_trans_timer.py >> /home/hanmc.txt
#*/11 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_tw_trans_base.py -t twitter_user -u twitter_user -r twitter_user_trans_task
#*/11 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_tw_trans_base.py -t twitter_flow_text_ -u twitter_user -r twitter_flow_text_trans_task
#*/11 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_tw_trans_base.py -t facebook_user -u facebook_user -r facebook_user_trans_task
#*/11 * * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_tw_trans_base.py -t facebook_flow_text_ -u facebook_user -r facebook_flow_text_trans_task

#流数据处理
* */2 * * * root cd /home/xnr1/xnr_0429/xnr/cron/flow_text && python fb_tw_flow_text_process.py >> /var/log/fb_tw_flow_text_process.log

#feedback建表
00 01 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python facebook_feedback_mappings_timer.py
00 01 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python twitter_feedback_mappings_timer.py

# fb/tw_xnr_flow_text_ 建表
00 22 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python fb_xnr_flow_text_mappings.py
00 22 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python tw_xnr_flow_text_mappings.py

# es_index 定期清理
00 02 * * * root bash /home/xnr1/xnr_0429/xnr/clean_xnr_es_index.sh

# 二期 - fb\tw bci -- 46
30 01 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python influence_cal_fb.py 
31 01 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files && python influence_cal_tw.py 

#定时杀掉浏览器及窗口进程
#*/30 * * * * root cd /home/xnr1/xnr_0429/xnr/ && ./killer.sh


# facebook feedback 爬虫
35 18 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/fb_tw_spider && python facebook_feedback_pop.py
35 18 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/fb_tw_spider && python facebook_feedback_push.py

# twitter feedback 爬虫
35 18 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/fb_tw_spider && python twitter_feedback_pop.py
35 18 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/fb_tw_spider && python twitter_feedback_push.py

 
# weibo 信息监测
00 03 * * * root cd /home/xnr1/xnr_0429/xnr/timed_python_files/monitor && python info_monitor.py

